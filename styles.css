:root{
  --bg-deep:#0b0820;
  --bg-surface:linear-gradient(180deg,#3b2b6f 0%, #24183f 60%);
  --gold:#ffd36b;
  --accent:#7c4dff;
  --card:#111021;
  --glass: rgba(255,255,255,0.04);
  --muted:#9aa0b4;
  --success:#8ef58e;
  --danger:#ff6b6b;
  --max-width:1100px;
  --symbol-h: 80px; /* увеличил размер символов */
  --symbol-gap: 10px; /* увеличил отступы */
  --rows: 5;
}
/* Mobile-first reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Times New Roman', Times, serif;background:linear-gradient(135deg, #0b0820 0%, #1a1642 25%, #2d1b69 40%, #1a1642 60%, #0f0c29 80%, #0b0820 100%);background-size: cover;background-position: center;background-attachment: fixed;color:#e6e9f2;display:flex;align-items:center;justify-content:center;padding:0;min-height:100vh;overflow-x:hidden}

/* Headers and special elements keep Montserrat */
h1, h2, h3, h4, h5, h6,
.brand, .stat, .win-banner, .win-banner .sum,
.sidebar-title, .modal-title, .btn, .bet-btn,
#bet, #balance, #total-spins, #total-won, #total-profit,
#bonus-spins, #last-win, #buy-bonus, #spin-text,
#auto-spins, #max-bet, #min-bet, #max-bet-value,
.bonus-text, .bonus-title, .bonus-cost {
  font-family: 'Montserrat', sans-serif;
}

/* Buttons and inputs */
button, input, select, textarea, .btn, .bet-btn, .line-pill {
  font-family: 'Montserrat', sans-serif;
}
/* Animated smoke background */
body::before{
  content: '';
  position: fixed;
  inset: 0;
  background: 
    radial-gradient(ellipse 800px 400px at 20% 30%, rgba(150, 100, 255, 0.4) 0%, transparent 70%),
    radial-gradient(ellipse 600px 300px at 80% 70%, rgba(200, 150, 255, 0.3) 0%, transparent 70%),
    radial-gradient(ellipse 1000px 500px at 50% 50%, rgba(255, 200, 255, 0.2) 0%, transparent 70%),
    radial-gradient(circle 400px at 30% 20%, rgba(180, 130, 255, 0.3) 0%, transparent 60%),
    radial-gradient(circle 300px at 70% 80%, rgba(220, 180, 255, 0.2) 0%, transparent 60%);
  animation: smokeFloat1 15s ease-in-out infinite;
  z-index: 10;
  pointer-events: none;
  filter: blur(3px);
}

body::after{
  content: '';
  position: fixed;
  inset: 0;
  background: 
    radial-gradient(ellipse 900px 450px at 30% 80%, rgba(180, 130, 255, 0.3) 0%, transparent 70%),
    radial-gradient(ellipse 700px 350px at 70% 20%, rgba(220, 180, 255, 0.25) 0%, transparent 70%),
    radial-gradient(circle 500px at 15% 60%, rgba(150, 100, 255, 0.2) 0%, transparent 60%),
    radial-gradient(circle 350px at 85% 40%, rgba(200, 150, 255, 0.15) 0%, transparent 60%);
  animation: smokeFloat2 20s ease-in-out infinite;
  z-index: 11;
  pointer-events: none;
  filter: blur(4px);
}

/* Animated gradient background */
body {
  animation: gradientShift 20s ease infinite;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes smokeFloat1 {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.3;
  }
  25% {
    transform: translate(100px, -60px) scale(1.1) rotate(90deg);
    opacity: 0.5;
  }
  50% {
    transform: translate(-80px, 80px) scale(0.9) rotate(180deg);
    opacity: 0.4;
  }
  75% {
    transform: translate(-120px, -40px) scale(1.05) rotate(270deg);
    opacity: 0.6;
  }
  100% {
    transform: translate(0, 0) scale(1) rotate(360deg);
    opacity: 0.3;
  }
}

@keyframes smokeFloat2 {
  0% {
    transform: translate(0, 0) scale(1.1) rotate(0deg);
    opacity: 0.25;
  }
  25% {
    transform: translate(-90px, 70px) scale(1.2) rotate(-90deg);
    opacity: 0.4;
  }
  50% {
    transform: translate(70px, -50px) scale(0.95) rotate(-180deg);
    opacity: 0.35;
  }
  75% {
    transform: translate(-50px, -90px) scale(1.15) rotate(-270deg);
    opacity: 0.45;
  }
  100% {
    transform: translate(0, 0) scale(1.1) rotate(-360deg);
    opacity: 0.25;
  }
}
.stage{width:100%;max-width:1400px;display:grid;grid-template-columns:1fr;gap:18px;align-items:start;z-index:20;position:relative;padding:20px;box-sizing:border-box}
/* Layout for larger screens */
@media(min-width:1200px){
  .stage{grid-template-columns:280px 1fr 280px;align-items:center}
}
@media(min-width:1000px) and (max-width:1199px){
  .stage{grid-template-columns:240px 1fr 240px;align-items:center}
}
@media(min-width:768px) and (max-width:999px){
  .stage{grid-template-columns:200px 1fr 200px;align-items:center}
}

/* Side panels */
.side {
  background: linear-gradient(145deg, rgba(15,12,41,0.95), rgba(26,22,66,0.9));
  border-radius:24px;padding:24px;border:1px solid rgba(150,100,255,0.3);
  box-shadow:0 20px 60px rgba(0,0,0,0.6), 0 0 40px rgba(150,100,255,0.2), inset 0 1px 0 rgba(255,255,255,0.1);
  min-height:220px;
  backdrop-filter: blur(20px);
  position:relative;
  overflow:hidden;
}

.side::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(150,100,255,0.1), transparent);
  animation: shimmer 4s ease-in-out infinite;
}

@keyframes shimmer {
  0% { left: -100%; }
  50% { left: 100%; }
  100% { left: 100%; }
}
.brand{
  font-family:'Montserrat', sans-serif;
  font-weight:800;color:var(--gold);font-size:32px;text-align:center;margin-bottom:12px;letter-spacing:1px;
  text-shadow:0 8px 25px rgba(255,215,0,0.3), 0 0 30px rgba(255,215,0,0.2);
  background: linear-gradient(135deg, #ffd36b, #ffed4e, #ffd36b);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  position:relative;
}

.brand::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(255,215,0,0.5), transparent);
  border-radius: 2px;
}
.balance {text-align:center;margin-top:8px}
.balance .amount {font-size:32px;font-weight:800;color:var(--gold);text-shadow:0 0 16px rgba(255,215,0,0.08)}
.panel-row{display:flex;justify-content:space-between;align-items:center;margin-top:12px;color:var(--muted);font-size:13px}
.small {font-family:'Montserrat', sans-serif;font-size:12px;color:var(--muted)}
.stat {font-family:'Montserrat', sans-serif;font-weight:700;color:#fff}

/* Main card */
.card {
  background: linear-gradient(145deg, rgba(15,12,41,0.95), rgba(26,22,66,0.9));
  border-radius:28px;padding:24px;border:1px solid rgba(150,100,255,0.3);
  box-shadow:0 30px 80px rgba(0,0,0,0.7), 0 0 50px rgba(150,100,255,0.3), inset 0 1px 0 rgba(255,255,255,0.1);
  position:relative;overflow:hidden;
  max-width: 100%;
  margin: 0 auto;
  backdrop-filter: blur(20px);
}

.card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(150,100,255,0.05), transparent);
  animation: cardShimmer 5s ease-in-out infinite;
}

@keyframes cardShimmer {
  0% { left: -100%; }
  50% { left: 100%; }
  100% { left: 100%; }
}
/* Decorative columns removed */
.header {display:flex;align-items:center;justify-content:space-between;gap:12px}
.title {font-family:'Montserrat', sans-serif;font-size:34px;color:var(--gold);text-shadow:0 8px 25px rgba(255,215,0,0.3), 0 0 30px rgba(255,215,0,0.2);font-weight:800;letter-spacing:1px;background: linear-gradient(135deg, #ffd36b, #ffed4e, #ffd36b);-webkit-background-clip: text;-webkit-text-fill-color: transparent;background-clip: text;position:relative}
.subtitle {font-family:'Montserrat', sans-serif;color:var(--muted);font-size:13px}

/* Responsive header */
@media(max-width:1200px){
  .title{font-size:28px}
  .subtitle{font-size:12px}
}
@media(max-width:1000px){
  .title{font-size:26px}
  .subtitle{font-size:11px}
  .header{flex-wrap:wrap;gap:8px}
}

/* Reels grid with enhanced masking */
.reels-wrap{display:flex;justify-content:center;padding:20px 10px;position:relative}
.reels {display:flex;gap:16px;align-items:center;justify-content:center;max-width:100%;overflow:hidden;position:relative}
.reels{position:relative}
/* Remove masking container */
.reel {
  width:90px;
  /* Height equals exactly rows * (symbol height + vertical gap) so 5 symbols fit precisely */
  height: calc(var(--rows) * (var(--symbol-h) + var(--symbol-gap)));
  background: linear-gradient(145deg, rgba(15,12,41,0.9), rgba(26,22,66,0.8));
  border-radius:20px;
  margin:0 8px;
  box-shadow:inset 0 4px 30px rgba(0,0,0,0.5),0 10px 40px rgba(0,0,0,0.6), 0 0 30px rgba(150,100,255,0.3), inset 0 1px 0 rgba(255,255,255,0.1);
  border:1px solid rgba(150,100,255,0.4);
  position:relative;
  overflow:hidden;
  flex-shrink: 0;
  isolation: isolate; /* Create stacking context to contain box-shadows and effects */
  /* Ensure exactly 5 visible cells with proper masking */
  display: flex;
  align-items: center;
  justify-content: center;
  /* Ensure reel stays above the masking overlay */
  z-index: 2;
  backdrop-filter: blur(10px);
}

.reel::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(150,100,255,0.2), transparent);
  animation: reelShimmer 3s ease-in-out infinite;
}

@keyframes reelShimmer {
  0% { left: -100%; }
  50% { left: 100%; }
  100% { left: 100%; }
}

/* Responsive reels */
@media(max-width:1200px){
  .reel{width:70px}
  :root{ --symbol-h:56px }
  .symbol{font-size:26px}
}
@media(max-width:1000px){
  .reel{width:68px}
  :root{ --symbol-h:52px }
  .symbol{font-size:24px}
}
.strip{
  display:flex;
  flex-direction:column;
  position:absolute;
  top:0;
  left:0;
  width:100%;
  transition:transform 0.6s cubic-bezier(.25,.46,.45,.94);
  will-change: transform;
  /* Ensure strip stays within reel bounds */
  box-sizing: border-box;
}

/* Balanced speed casino animation */
.strip.spinning {
  animation: smoothSpin 0.15s linear infinite;
  filter: blur(0.8px);
  opacity: 0.9;
}

.strip.decelerating {
  animation: smoothDecelerate 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  filter: blur(0px);
  opacity: 1;
}

.strip.stopping {
  animation: gentleStop 0.4s ease-out forwards;
  filter: blur(0px);
  opacity: 1;
}

@keyframes smoothSpin {
  0% { transform: translateY(0); }
  100% { transform: translateY(-90px); } /* Exactly one symbol height + gap */
}

@keyframes smoothDecelerate {
  0% { 
    transform: translateY(0);
    filter: blur(0.8px);
    opacity: 0.9;
  }
  100% { 
    transform: translateY(-450px); /* Smooth deceleration */
    filter: blur(0px);
    opacity: 1;
  }
}

@keyframes gentleStop {
  0% { 
    transform: translateY(var(--target-position, 0));
    opacity: 0.95;
  }
  100% { 
    transform: translateY(var(--target-position, 0));
    opacity: 1;
  }
}
.symbol{
  display:flex;
  align-items:center;
  justify-content:center;
  height: var(--symbol-h);
  font-size:32px;
  font-weight:700;
  font-family:'Montserrat', sans-serif;
  background: linear-gradient(145deg, rgba(20,15,45,0.8), rgba(30,25,60,0.7));
  margin: calc(var(--symbol-gap) / 2);
  border-radius:16px;
  position:relative;
  overflow:hidden;
  transition:transform 200ms, box-shadow 200ms, filter 200ms;
  user-select:none;
  box-shadow:inset 0 2px 15px rgba(0,0,0,0.4), 0 0 20px rgba(150,100,255,0.1);
  border:1px solid rgba(150,100,255,0.2);
  /* Ensure symbol doesn't exceed its container */
  max-width: 100%;
  box-sizing: border-box;
}

.symbol:hover {
  transform: scale(1.05);
  box-shadow:inset 0 2px 15px rgba(0,0,0,0.4), 0 0 30px rgba(150,100,255,0.3);
}
.symbol.trident-img {
  background-image: url('img/kalik11.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.05);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.shield-img {
  background-image: url('img/ugli11.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.05);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.lightning-img {
  background-image: url('img/trava.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.coin-img {
  background-image: url('img/par.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.laurel-img {
  background-image: url('img/veip.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.wild-img {
  background-image: url('img/wild.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.scatter-img {
  background-image: url('img/bonus.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.trophy-img {
  background-image: url('img/kaif.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.sword-img {
  background-image: url('img/crack.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.glock-img {
  background-image: url('img/glock.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.eagle-img {
  background-image: url('img/sigi.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.temple-img {
  background-image: url('img/pivo.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.03);
  font-size: 0; /* Скрываем текст символа */
}

.symbol.win {
  animation:winGlow 900ms ease-in-out infinite;
  transform:scale(1.05);
  filter:brightness(1.05) saturate(1.1) drop-shadow(0 0 20px rgba(255,200,60,0.8)) drop-shadow(0 4px 16px rgba(0,0,0,0.6));
}
.symbol.expanded-wild {
  background-image: url('img/wild.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: rgba(255,255,255,0.02);
  font-size: 0; /* hide emoji text */
  filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8)) drop-shadow(0 6px 30px rgba(255, 165, 0, 0.5));
  animation: expandedWildGlow 1.5s ease-in-out infinite;
}
.wild-multiplier {
  position: absolute;
  top: 2px;
  right: 2px;
  font-size: 12px;
  font-weight: bold;
  color: #FFD700;
  background: rgba(0,0,0,0.8);
  padding: 2px 4px;
  border-radius: 4px;
  border: 1px solid #FFD700;
  text-shadow: 0 0 4px rgba(255, 215, 0, 0.8);
}
@keyframes winGlow {
  0%{transform:scale(1);filter:brightness(1)}
  50%{transform:scale(1.08);filter:brightness(1.15)}
  100%{transform:scale(1);filter:brightness(1)}
}
@keyframes expandedWildGlow {
  0%{transform:scale(1);filter:brightness(1)}
  25%{transform:scale(1.1);filter:brightness(1.2)}
  50%{transform:scale(1.05);filter:brightness(1.3)}
  75%{transform:scale(1.1);filter:brightness(1.2)}
  100%{transform:scale(1);filter:brightness(1)}
}

/* Payline overlay (SVG) */
.payline-svg { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 50 }
.payline-line { fill: none; stroke: rgba(255,215,0,0.95); stroke-width: 6; stroke-linecap: round; stroke-linejoin: round; filter: drop-shadow(0 8px 24px rgba(255,200,60,0.6)); }
.payline-line.fade { animation: paylineFade 2.5s ease forwards; }
/* Canvas-based payline overlay */
.payline-canvas { position: absolute; left:0; top:0; width:100%; height:100%; pointer-events:none; z-index:60; display:block; }
@keyframes paylineFade { 0% { opacity: 1; stroke-dashoffset: 0 } 80% { opacity: 1 } 100% { opacity: 0 } }

/* Controls */
.controls {display:flex;gap:12px;align-items:center;justify-content:center;padding:12px 6px;margin-top:8px;flex-wrap:wrap}
.spin-btn{
  background:linear-gradient(90deg,var(--gold),#ffd700 60%, #ffcc33);
  border:0;padding:14px 36px;border-radius:40px;font-weight:800;color:#111;font-size:18px;
  box-shadow:0 8px 30px rgba(255,200,60,0.18), inset 0 -4px 12px rgba(255,255,255,0.2);
  cursor:pointer;transition:transform 160ms, box-shadow 160ms;
  outline:none;
  flex-shrink: 0;
}
.spin-btn:active{transform:translateY(2px)}
.spin-btn:hover{transform:translateY(-4px)}
.spin-btn[disabled]{opacity:.6;cursor:not-allowed;transform:none}
.btn {font-family:'Montserrat', sans-serif;background: linear-gradient(145deg, rgba(20,15,45,0.8), rgba(30,25,60,0.7));border:1px solid rgba(150,100,255,0.3);padding:12px 16px;border-radius:16px;color:var(--muted);cursor:pointer;font-weight:600;box-shadow:0 4px 20px rgba(0,0,0,0.3), 0 0 15px rgba(150,100,255,0.1), inset 0 1px 0 rgba(255,255,255,0.1);transition:all 200ms ease;backdrop-filter: blur(10px)}
.bet-area{display:flex;gap:8px;align-items:center}
input[type=number] {font-family:'Montserrat', sans-serif;width:110px;padding:12px;border-radius:12px;border:1px solid rgba(150,100,255,0.3);background: linear-gradient(145deg, rgba(20,15,45,0.8), rgba(30,25,60,0.7));color:#fff;font-weight:700;text-align:center;box-shadow:inset 0 2px 10px rgba(0,0,0,0.3), 0 0 15px rgba(150,100,255,0.1);backdrop-filter: blur(10px)}

/* Responsive controls */
@media(max-width:1200px){
  .spin-btn{padding:12px 32px;font-size:16px}
  .btn{padding:8px 12px;font-size:14px}
  input[type=number]{width:100px;padding:8px}
}
@media(max-width:1000px){
  .spin-btn{padding:10px 28px;font-size:15px}
  .btn{padding:7px 10px;font-size:13px}
  input[type=number]{width:90px;padding:7px}
  .controls{gap:8px}
}

/* Lines and message area */
.info-row{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
.lines {display:flex;gap:6px;flex-wrap:wrap}
.line-pill{background:#0b0820;padding:6px 10px;border-radius:999px;font-size:12px;color:var(--muted);border:none}
.message {margin-top:10px;padding:10px;border-radius:10px;background:#0b0820;font-size:14px;color:var(--muted)}

/* Big win banner */
.win-banner{
  position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.8);z-index:9999;
  background:linear-gradient(180deg,#fff7df,#fff0b8);color:#2b1700;padding:30px 48px;border-radius:20px;
  box-shadow:0 30px 90px rgba(0,0,0,0.6);text-align:center;font-family:'Playfair Display',serif;font-size:34px;
  display:none;pointer-events:none;border:6px solid #fff;opacity:0;transition:all 300ms cubic-bezier(.4,0,.2,1);
}
.win-banner.show{
  transform:translate(-50%,-50%) scale(1);opacity:1;
}
.win-banner .sum{display:block;font-size:46px;color:#2b1700;margin-top:8px;font-weight:900;text-shadow:0 6px 18px rgba(124,77,255,0.08)}

/* confetti canvas full screen */
#confetti-canvas{position:fixed;inset:0;pointer-events:none;z-index:9998}

/* accessibility focus */
button:focus, input:focus {outline:2px solid rgba(124,77,255,0.6);outline-offset:3px}

/* Music volume slider */
#music-volume {
  -webkit-appearance: none;
  appearance: none;
  background: rgba(255,255,255,0.1);
  outline: none;
  opacity: 0.8;
  transition: opacity 0.2s;
  border-radius: 2px;
  height: 4px;
}

#music-volume:hover {
  opacity: 1;
}

#music-volume::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 12px;
  height: 12px;
  background: #ffd36b;
  cursor: pointer;
  border-radius: 50%;
  border: 2px solid rgba(255,255,255,0.3);
}

#music-volume::-moz-range-thumb {
  width: 12px;
  height: 12px;
  background: #ffd36b;
  cursor: pointer;
  border-radius: 50%;
  border: 2px solid rgba(255,255,255,0.3);
}

/* responsive tweaks */
@media(max-width:720px){
  .reel{width:60px}
  :root{ --symbol-h:48px }
  .symbol{font-size:20px}
  .spin-btn{padding:12px 22px;font-size:16px}
  .side{display:none}
  .ad-banner-side img{max-width:95%;height:auto}
  .stage{padding:10px}
  .card{padding:12px}
  .floating-bonus-btn{bottom:20px;right:20px}
  .floating-bonus-button{padding:12px 18px;min-width:160px}
  .bonus-icon{font-size:20px}
  .bonus-title{font-size:14px}
  .bonus-cost{font-size:11px}
}

@media(max-width:480px){
  .reel{width:50px}
  :root{ --symbol-h:40px }
  .symbol{font-size:18px}
  .spin-btn{padding:10px 18px;font-size:14px}
  .ad-banner-side img{max-width:90%;height:60px}
  .stage{padding:5px}
  .card{padding:10px}
  .title{font-size:24px}
  .header{flex-direction:column;gap:8px}
  .floating-bonus-btn{bottom:15px;right:15px}
  .floating-bonus-button{padding:10px 14px;min-width:140px}
  .bonus-icon{font-size:18px}
  .bonus-title{font-size:13px}
  .bonus-cost{font-size:10px}
}

@media(max-width:360px){
  .reel{width:45px}
  :root{ --symbol-h:36px }
  .symbol{font-size:16px}
  .spin-btn{padding:8px 16px;font-size:12px}
  .stage{padding:2px}
  .card{padding:8px}
  .title{font-size:20px}
  .floating-bonus-btn{bottom:10px;right:10px}
  .floating-bonus-button{padding:8px 12px;min-width:120px}
  .bonus-icon{font-size:16px}
}

/* Ad banner styles */
.ad-banner-side {
  margin-top: 12px;
  text-align: center;
  padding: 8px;
  background: rgba(255,255,255,0.02);
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.04);
}

.ad-banner-side img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
}

.ad-banner-side img:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 30px rgba(255,215,0,0.2);
}

/* Floating Buy Bonus Button */
.floating-bonus-btn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 1000;
  animation: floatIn 0.5s ease-out;
}

.floating-bonus-button {
  display: flex;
  align-items: center;
  gap: 12px;
  background: linear-gradient(135deg, #7c4dff, #b388ff);
  color: white;
  border: none;
  padding: 16px 24px;
  border-radius: 50px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 30px rgba(124, 77, 255, 0.4), 0 4px 15px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  min-width: 180px;
  position: relative;
  overflow: hidden;
}

.floating-bonus-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s ease;
}

.floating-bonus-button:hover::before {
  left: 100%;
}

.floating-bonus-button:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 12px 40px rgba(124, 77, 255, 0.6), 0 6px 20px rgba(0, 0, 0, 0.4);
  background: linear-gradient(135deg, #8e5cff, #c298ff);
}

.floating-bonus-button:active {
  transform: translateY(-1px) scale(1.02);
}

.floating-bonus-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: 0 4px 15px rgba(124, 77, 255, 0.2);
}

.bonus-icon {
  font-size: 24px;
  animation: bounce 2s infinite;
}

.bonus-text {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.bonus-title {
  font-size: 16px;
  font-weight: 800;
  line-height: 1;
  margin-bottom: 2px;
}

.bonus-cost {
  font-size: 12px;
  opacity: 0.9;
  font-weight: 500;
}

@keyframes floatIn {
  0% {
    transform: translateY(100px) scale(0.8);
    opacity: 0;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-5px);
  }
  60% {
    transform: translateY(-3px);
  }
}

@keyframes bonusActivation {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
  25% {
    transform: scale(1.2) rotate(5deg);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.1) rotate(-5deg);
    opacity: 0.8;
  }
  75% {
    transform: scale(1.15) rotate(3deg);
    opacity: 0.9;
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

@keyframes bonusGlow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 165, 0, 0.6);
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1));
  }
  50% {
    box-shadow: 0 0 40px rgba(255, 215, 0, 1), 0 0 80px rgba(255, 165, 0, 0.8);
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.2));
  }
}

@keyframes bonusTextPopup {
  0% {
    transform: translateY(60px) scale(0.8);
    opacity: 0;
  }
  50% {
    transform: translateY(10px) scale(0.95);
    opacity: 0.8;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes fadeInOut {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(1.1);
  }
}

.bonus-activation {
  animation: bonusActivation 1.5s ease-in-out;
}

.bonus-glow {
  animation: bonusGlow 2s ease-in-out infinite;
}

.bonus-text-popup {
  animation: bonusTextPopup 1s ease-out;
}

.reels.bonus-mode {
  animation: bonusGlow 3s ease-in-out infinite;
  border: 2px solid rgba(255, 215, 0, 0.6);
}

.reels.bonus-mode .reel {
  border-color: rgba(255, 215, 0, 0.4);
  box-shadow: inset 0 2px 20px rgba(255, 215, 0, 0.3), 0 8px 32px rgba(255, 215, 0, 0.2);
}

/* History container scrollbar */
.history-container::-webkit-scrollbar {
  width: 6px;
}

.history-container::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.05);
  border-radius: 3px;
}

.history-container::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.2);
  border-radius: 3px;
}

.history-container::-webkit-scrollbar-thumb:hover {
  background: rgba(255,255,255,0.3);
}
